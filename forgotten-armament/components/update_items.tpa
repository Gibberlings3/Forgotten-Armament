// Forgotten Armament - Update Existing Items

/*************************************************************************/
///////////////////////////////////////////////////////////////////////////
// UPDATE MELEE WEAPONS                                                  //
///////////////////////////////////////////////////////////////////////////
/*************************************************************************/

///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
// Axe                                                                   //
///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
// Mauletar +2                                                           //
///////////////////////////////////////////////////////////////////////////
ACTION_IF FILE_EXISTS_IN_GAME ~AX1H03.ITM~ BEGIN
    COPY ~forgotten-armament/itm/update/AX1H03.ITM~ ~override~
        SAY NAME1 @30000
        SAY NAME2 @30002
        SAY UNIDENTIFIED_DESC @30001
        SAY DESC @30003
END

///////////////////////////////////////////////////////////////////////////
// Azuredge                                                              //
///////////////////////////////////////////////////////////////////////////
ACTION_IF FILE_EXISTS_IN_GAME ~AX1H10.ITM~ BEGIN
    COPY ~forgotten-armament/itm/update/AX1H10.ITM~ ~override~
END

///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
// Wakisashi                                                             //
///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
// Yamato +4                                                             //
///////////////////////////////////////////////////////////////////////////
OUTER_SPRINT oldyamato @31600
OUTER_SPRINT newyamato @31601

ACTION_IF FILE_EXISTS_IN_GAME ~SW1H66.ITM~ BEGIN
    COPY_EXISTING ~SW1H66.ITM~ ~override~ 
      LPF ADD_ITEM_EQEFFECT INT_VAR opcode = 1 target = 1 parameter1 = 1 parameter2 = 0 timing = 2 resist_dispel = 0 probability1 = 100 END

      READ_LONG 0x54 desc_strref
          PATCH_IF (desc_strref >= 0 && desc_strref < 2147483646) BEGIN
            READ_STRREF 0x54 desc
            INNER_PATCH_SAVE desc ~%desc%~ BEGIN
              REPLACE_TEXTUALLY ~%oldyamato%~ ~%newyamato%~
            END
            SAY_EVALUATED 0x54 ~%desc%~
          END
END